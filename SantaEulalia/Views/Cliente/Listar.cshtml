@model IEnumerable<CapaEntidad.entClientes>

@{
    ViewData["Title"] = "Listar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Listar Clientes</h1>

<p>
    <a asp-action="InsertarCliente" class="btn btn-primary">Crear Nuevo</a>
</p>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>@Html.DisplayNameFor(m => m.First().id_cliente)</th>
            <th>@Html.DisplayNameFor(m => m.First().nombres)</th>
            <th>@Html.DisplayNameFor(m => m.First().apellidos)</th>
            <th>@Html.DisplayNameFor(m => m.First().dni)</th>
            <th>@Html.DisplayNameFor(m => m.First().razon_social)</th>
            <th>@Html.DisplayNameFor(m => m.First().ruc)</th>
            <th>@Html.DisplayNameFor(m => m.First().direccion)</th>
            <th>Correos</th>
            <th>Teléfonos</th>
            <th>@Html.DisplayNameFor(m => m.First().activo)</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.id_cliente</td>
                <td>@item.nombres</td>
                <td>@item.apellidos</td>
                <td>@item.dni</td>
                <td>@item.razon_social</td>
                <td>@item.ruc</td>
                <td>@item.direccion</td>
                <td>
                    @(item.correos != null ? string.Join(", ", item.correos.Take(2)) : "")
                </td>
                <td>
                    @(item.telefonos != null ? string.Join(", ", item.telefonos.Take(2)) : "")
                </td>
                <td>@(item.activo ? "Sí" : "No")</td>
                <td>
                    @Html.ActionLink("Editar", "EditarCliente", new { id = item.id_cliente }, new { @class = "btn btn-sm btn-warning" }) |
                    @Html.ActionLink("Detalles", "DetallesCliente", new { id = item.id_cliente }, new { @class = "btn btn-sm btn-info" }) |
                    @Html.ActionLink("Eliminar", "EliminarCliente", new { id = item.id_cliente }, new { @class = "btn btn-sm btn-danger" })
                </td>
            </tr>
        }
    </tbody>
</table>
