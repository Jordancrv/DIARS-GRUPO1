@model CapaEntidad.OrdenCompra

@{
    ViewBag.Title = "Detalle de Orden de Compra";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="mb-4">Detalle de Orden de Compra</h2>

<!-- Información general de la orden -->
<table class="table table-dark table-bordered">
    <tr>
        <th>ID</th>
        <td>@Model.id_orden_compra</td>
    </tr>
    <tr>
        <th>Proveedor</th>
        <td>@Model.id_proveedor</td>
    </tr>
    <tr>
        <th>Usuario</th>
        <td>@Model.id_usuario</td>
    </tr>
    <tr>
        <th>Fecha</th>
        <td>@Model.fecha.ToShortDateString()</td>
    </tr>
    <tr>
        <th>Estado</th>
        <td>@Model.estado</td>
    </tr>
    <tr>
        <th>Total</th>
        <td>@Model.total.ToString("C")</td>
    </tr>
    <tr>
        <th>Tipo de Orden</th>
        <td>@Model.tipo_orden</td>
    </tr>
</table>

<!-- Detalles de la orden -->
<h4 class="mt-4">Productos en la Orden</h4>
<table class="table table-striped table-bordered table-dark">
    <thead>
        <tr>
            <th>ID Detalle</th>
            <th>ID Producto</th>
            <th>Cantidad</th>
            <th>Precio Unitario</th>
            <th>Subtotal</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.detalles)
        {
            <tr>
                <td>@item.id_detalle</td>
                <td>@item.id_producto</td>
                <td>@item.cantidad</td>
                <td>@item.precio_unitario.ToString("C")</td>
                <td>@item.subtotal.ToString("C")</td>
            </tr>
        }
    </tbody>
</table>

<a asp-action="Listar" class="btn btn-secondary">Volver al listado</a>
